[33mcommit 3b93fa444d4f3d0f90ae8f66a85514aff0cb9aa7[m
Author: yhcsy <sandra930621@gmail.com>
Date:   Mon Oct 20 00:37:19 2025 +0800

    #modify 答題後顯示詳解、統一NpcMenu各頁標題及滾輪，#feat 新增遊戲說明頁面

[1mdiff --git a/backend/services/gameService.js b/backend/services/gameService.js[m
[1mindex e78894a..15aaf10 100644[m
[1m--- a/backend/services/gameService.js[m
[1m+++ b/backend/services/gameService.js[m
[36m@@ -100,6 +100,7 @@[m [mclass GameService {[m
       userAnswer: question.options[userAnswerIndex],[m
       yourAnswer: question.options[userAnswerIndex], // 為了相容性[m
       question: question.question,[m
[32m+[m[32m      description, // 回傳題目詳解[m
       newHistory,[m
       defenseTool: isCorrect ? randomDefenseTool : null // 只有答對時才包含防禦工具資訊[m
     };[m
[1mdiff --git a/frontend/src/components/AchievementMenu.vue b/frontend/src/components/AchievementMenu.vue[m
[1mindex 10563bc..eae9f79 100644[m
[1m--- a/frontend/src/components/AchievementMenu.vue[m
[1m+++ b/frontend/src/components/AchievementMenu.vue[m
[36m@@ -1,6 +1,5 @@[m
 <template>[m
   <div class="achievement-menu" v-if="isVisible">[m
[31m-    <h2 class="page-title">🎉 成就列表</h2>[m
     <div class="achievement-content">[m
       <!-- 成就統計 -->[m
       <div class="achievement-stats">[m
[36m@@ -131,14 +130,6 @@[m [mconst rewardText = (a) => {[m
 </script>[m
 [m
 <style scoped>[m
[31m-.page-title {[m
[31m-  margin: 0px 0px 10px 0px;[m
[31m-  font-size: 24px;[m
[31m-  font-weight: 600;[m
[31m-  color: #2c3e50;[m
[31m-  text-align: left;[m
[31m-  align-self: flex-start;[m
[31m-}[m
 [m
 .achievement-menu {[m
   width: 100%;[m
[36m@@ -151,11 +142,11 @@[m [mconst rewardText = (a) => {[m
 [m
 .achievement-content {[m
   border-radius: 12px;[m
[31m-  padding: 30px;[m
[32m+[m[32m  padding: 20px;[m[41m [m
   width: 100%;[m
   height: 100%;[m
   max-height: 100%;[m
[31m-  overflow-y: scroll; /* 改為 scroll 強制顯示滾動條 */[m
[32m+[m[32m  overflow-y: auto;[m[41m [m
   box-sizing: border-box;[m
 }[m
 [m
[36m@@ -177,13 +168,13 @@[m [mconst rewardText = (a) => {[m
 }[m
 [m
 .stat-label {[m
[31m-  font-size: 12px;[m
[32m+[m[32m  font-size: 13px;[m[41m   [m
   color: #666;[m
   margin-bottom: 4px;[m
 }[m
 [m
 .stat-value {[m
[31m-  font-size: 18px;[m
[32m+[m[32m  font-size: 20px;[m[41m [m
   font-weight: bold;[m
   color: #2c3e50;[m
 }[m
[36m@@ -200,7 +191,7 @@[m [mconst rewardText = (a) => {[m
 .achievement-item {[m
   display: flex;[m
   align-items: center;[m
[31m-  padding: 20px;[m
[32m+[m[32m  padding: 24px;[m[41m [m
   border: 2px solid #e9ecef;[m
   border-radius: 12px;[m
   background: white;[m
[36m@@ -220,15 +211,15 @@[m [mconst rewardText = (a) => {[m
 }[m
 [m
 .achievement-title {[m
[31m-  margin: 0 0 4px 0;[m
[31m-  font-size: 16px;[m
[32m+[m[32m  margin: 0 0 6px 0;[m
[32m+[m[32m  font-size: 20px;[m[41m [m
   font-weight: 600;[m
   color: #333;[m
 }[m
 [m
 .achievement-description {[m
[31m-  margin: 0 0 8px 0;[m
[31m-  font-size: 14px;[m
[32m+[m[32m  margin: 0 0 10px 0;[m
[32m+[m[32m  font-size: 16px;[m[41m [m
   color: #666;[m
 }[m
 [m
[36m@@ -275,7 +266,7 @@[m [mconst rewardText = (a) => {[m
 }[m
 [m
 .reward-text { [m
[31m-  font-size: 12px;[m
[32m+[m[32m  font-size: 14px;[m[41m [m
   color: #856404;[m
   font-weight: 500;[m
 }[m
[36m@@ -303,6 +294,8 @@[m [mconst rewardText = (a) => {[m
   border: none;[m
   border-radius: 6px;[m
   cursor: pointer;[m
[32m+[m[32m  font-size: 14px;[m[41m [m
[32m+[m[32m  padding: 8px 14px;[m
 }[m
 [m
 .claim-btn:hover {[m
[1mdiff --git a/frontend/src/components/BuildingShop.vue b/frontend/src/components/BuildingShop.vue[m
[1mindex 55cc5a7..f193086 100644[m
[1m--- a/frontend/src/components/BuildingShop.vue[m
[1m+++ b/frontend/src/components/BuildingShop.vue[m
[36m@@ -1,6 +1,5 @@[m
 <template>[m
   <div class="shop-container">[m
[31m-    <h2 class="page-title"> 💰 商店</h2>[m
     <div class="shop-list">[m
       <div class="shop-item" v-for="item in buildingStore.shopBuildings" :key="item.id">[m
         <div class="item-image">[m
[36m@@ -59,36 +58,20 @@[m [mconst emit = defineEmits(['purchaseSuccess'])[m
 </script>[m
 [m
 <style scoped>[m
[31m-.page-title {[m
[31m-  margin: 0 0 10px 0;[m
[31m-  font-size: 24px;[m
[31m-  font-weight: 600;[m
[31m-  color: #2c3e50;[m
[31m-  text-align: left;[m
[31m-  align-self: flex-start;[m
[31m-}[m
 [m
 .shop-container {[m
   width: 100%;[m
   height: 100%;[m
[31m-  display: flex;[m
[31m-  flex-direction: column;[m
[31m-  align-items: center;[m
[31m-  justify-content: flex-start;[m
[31m-  padding: 0;[m
[31m-  pointer-events: auto;[m
[32m+[m[32m  display: block; /* 內部排版交由父層控制滾動 */[m
 }[m
 [m
 .shop-list {[m
   display: grid;[m
[31m-  grid-template-columns: repeat(3, 1fr);[m
[31m-  gap: 24px;[m
[32m+[m[32m  grid-template-columns: repeat(3, 1fr); /* 固定三欄，維持九宮格 */[m
[32m+[m[32m  gap: 16px; /* 稍微縮小間距，讓卡片更寬 */[m
   width: 100%;[m
[31m-  height: 100%;[m
[31m-  overflow-y: auto;[m
[31m-  padding: 20px;[m
[32m+[m[32m  min-height: 0;[m
   box-sizing: border-box;[m
[31m-  pointer-events: auto;[m
 }[m
 [m
 .shop-item {[m
[1mdiff --git a/frontend/src/components/ControlsHint.vue b/frontend/src/components/ControlsHint.vue[m
[1mindex 81aa0da..9b93a0c 100644[m
[1m--- a/frontend/src/components/ControlsHint.vue[m
[1m+++ b/frontend/src/components/ControlsHint.vue[m
[36m@@ -1,12 +1,40 @@[m
 <template>[m
[32m+[m[32m  <div v-if="showNpcTip" class="dialog-bottom">想知道遊戲規則及各種資源請點我</div>[m
   <div class="controls-hint">[m
     <div><strong>控制說明:</strong></div>[m
     <div>↑↓←→ 移動角色</div>[m
     <div>Enter / E 檢視區域</div>[m
     <div>滑鼠拖動 移動視野</div>[m
   </div>[m
[32m+[m[41m  [m
 </template>[m
 [m
[32m+[m[32m<script setup>[m
[32m+[m[32mimport { ref, watch } from 'vue'[m
[32m+[m
[32m+[m[32mconst props = defineProps({[m
[32m+[m[32m  trigger: {[m
[32m+[m[32m    type: Number,[m
[32m+[m[32m    default: 0[m
[32m+[m[32m  }[m
[32m+[m[32m})[m
[32m+[m
[32m+[m[32mconst showNpcTip = ref(false)[m
[32m+[m[32mlet hideTimer = null[m
[32m+[m
[32m+[m[32mwatch([m
[32m+[m[32m  () => props.trigger,[m
[32m+[m[32m  () => {[m
[32m+[m[32m    if (!props.trigger) return[m
[32m+[m[32m    showNpcTip.value = true[m
[32m+[m[32m    clearTimeout(hideTimer)[m
[32m+[m[32m    hideTimer = setTimeout(() => {[m
[32m+[m[32m      showNpcTip.value = false[m
[32m+[m[32m    }, 8000)[m
[32m+[m[32m  }[m
[32m+[m[32m)[m
[32m+[m[32m</script>[m
[32m+[m
 <style scoped>[m
 .controls-hint {[m
   position: absolute;[m
[36m@@ -18,6 +46,33 @@[m
   border-radius: 10px;[m
   font-size: 14px;[m
   z-index: 12; /* 確保在 UI 圖層之上 */[m
[31m-  pointer-events: auto; /* 確保自身可以被互動 (雖然目前不需要) */[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.dialog-bottom {[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  bottom: 180px;[m
[32m+[m[32m  left: 40px;[m
[32m+[m[32m  background: rgba(0, 0, 0, 0.7);[m
[32m+[m[32m  color: #fff;[m
[32m+[m[32m  border-radius: 10px;[m
[32m+[m[32m  padding: 10px 12px;[m
[32m+[m[32m  font-size: 18px;[m
[32m+[m[32m  line-height: 1.4;[m
[32m+[m[32m  z-index: 13;[m
[32m+[m[32m}[m
[32m+[m[32m.dialog-bottom::after {[m
[32m+[m[32m  border-color: rgba(0, 0, 0, 0.7) transparent transparent;[m
[32m+[m[32m  border-style: solid solid solid solid;[m
[32m+[m[32m  border-radius: 10px;[m
[32m+[m[32m  border-width: 13px 8px;[m
[32m+[m[41m [m
[32m+[m[32m  bottom: -20px;[m
[32m+[m[41m [m
[32m+[m[32m  content: "";[m
[32m+[m[32m  height: 0px;[m
[32m+[m
[32m+[m[32m  position: absolut