# 資安教育遊戲 - 完整遊戲內容說明

## 一、遊戲概述

這是一款以資訊安全教育為主題的等角地圖（Isometric）建造類遊戲。玩家在一個資安小鎮中進行探索、答題、建造建築物、處理資安事件，並透過遊戲化的方式學習資安知識。

### 核心特色
- **教育與遊戲結合**：透過答題和互動學習資安知識
- **建造系統**：購買建築並建立網路連線
- **事件系統**：處理各種真實世界的資安威脅
- **成就系統**：完成各種目標獲得獎勵
- **伺服器系統**：根據防禦值動態升級 Public Internet Tower

---

## 二、遊戲介面與導航

### 2.1 首頁（HomePage）
**路徑：** `/home`

首頁包含以下教育內容區塊：

1. **駭客類型介紹**（BlackOrWhite）
   - 介紹不同類型的駭客
   - 黑白帽駭客的概念

2. **資安領域探索**（Future）
   - 資安必備技能
   - 工具與證照資訊

3. **網路七層模型**（SevenStage）
   - OSI 七層架構說明
   - 互動式學習體驗

4. **密碼學基礎**（Concept, Key）
   - 密碼學核心概念
   - 金鑰管理

5. **對稱加密與 AES**（SymmetricEncryptionAndAES）
   - 對稱加密原理
   - AES 加密演算法

6. **非對稱加密與 RSA**（AsymmetricEncryptionAndRSA）
   - 非對稱加密原理
   - RSA 演算法

7. **為什麼需要非對稱加密**（WhyAsymmetric）
   - 安全性比較
   - 應用場景

8. **雜湊函數**（HashAll）
   - 雜湊原理
   - 常見雜湊演算法

9. **Diffie-Hellman 金鑰交換**（DH）
   - 金鑰交換機制
   - 安全性分析

10. **OWASP TOP10**（NewTOP10）
    - 十大常見資安漏洞
    - 漏洞說明與防護

11. **遊戲入口區**
    - 登入/註冊功能
    - 前往遊戲按鈕

### 2.2 登入/註冊系統
- **登入頁面**：`/login`
- **註冊頁面**：`/register`
- 使用 Firebase Authentication
- 需要登入才能進入遊戲

### 2.3 遊戲主畫面（GamePage）
**路徑：** `/game`（需要登入）

---

## 三、遊戲核心機制

### 3.1 地圖系統

#### 地圖規格
- **地圖大小**：20x20 網格
- **座標系統**：等角座標（Isometric）
- **瓦片類型**：
  - `locked`：鎖定狀態，需要答題解鎖
  - `developed`：已開發，可放置建築
  - `placed`：已放置建築
  - `castle`：Public Internet Tower 區域（固定 3x3，不可建造）

#### 初始狀態
- Public Internet Tower 位於地圖中心區域（約 1,1 位置）
- 大部分土地處於 `locked` 狀態
- 玩家需要答題來解鎖土地

### 3.2 玩家系統

#### 玩家屬性
- **科技點（TechPoints）**：購買建築的貨幣
  - 初始值：500
  - 每分鐘自動增加 1 點
  - 答對題目：+50
  - 答錯題目：-5

- **防禦值（Defense）**：影響 Public Internet Tower 等級
  - 初始值：120
  - 答對題目：+10
  - 答錯題目：-5
  - 處理資安事件失敗：-10

- **位置（Position）**：等角座標系統中的 X、Y 座標
  - 初始位置：Public Internet Tower 區域附近
  - 使用 WASD 或方向鍵移動

#### 玩家移動
- **控制方式**：
  - `W` / `↑`：向上
  - `S` / `↓`：向下
  - `A` / `←`：向左
  - `D` / `→`：向右
- **互動鍵**：`Enter` 或 `E` 鍵與當前格子互動
- **滑鼠拖曳**：可拖曳地圖視角
- **攝影機**：自動跟隨玩家，具有緩動效果

### 3.3 答題系統

#### 解鎖土地流程
1. 玩家移動到 `locked` 狀態的土地
2. 按下 `Enter` 或 `E` 鍵
3. 系統隨機抽取一道尚未答對的題目
4. 顯示題目面板（QuizPanel）
5. 玩家選擇答案並提交
6. 系統判定對錯並給予獎勵/懲罰
7. 答對後土地解鎖為 `developed` 狀態

#### 題目類型
- 選擇題（4 個選項）
- 題目涵蓋：
  - 密碼學
  - 網路安全
  - Web 安全
  - 系統安全
  - OWASP TOP10

#### 答題獎勵與懲罰
**答對時：**
- ✅ +15 科技點（實際為 +50）
- ✅ +10 防禦值
- ✅ 土地解鎖
- ✅ 可能獲得防禦工具
- ✅ 可能觸發隨機事件

**答錯時：**
- ❌ -5 科技點
- ❌ -5 防禦值
- ❌ 土地不解鎖
- ❌ 顯示正確答案與詳解

#### 答題面板功能
- **正面**：顯示題目與選項
- **背面**：顯示結果、獎勵、詳解
- **翻轉動畫**：卡片翻轉效果
- **關閉按鈕**：可隨時關閉題目

#### 答題紀錄
- 所有答題記錄保存在歷史中
- 可透過 NPC 選單查看「答題紀錄」

### 3.4 建築系統

#### 建築商店
透過 NPC 選單進入「建築商店」頁面，可購買以下建築：

1. **主機（Host）**
   - 多種不同外觀的主機建築
   - 提供防禦值加成
   - 消耗科技點購買

2. **路由器（Router）**
   - 網路連線的節點
   - 可連接其他建築物
   - 提供連線功能

3. **交換器（Switch）**
   - 網路連線的節點
   - 可連接多個主機
   - 建立區域網路

#### 購買與放置流程
1. 在建築商店選擇要購買的建築
2. 進入「放置模式」
3. 選擇已開發的土地（`developed` 狀態）
4. 確認放置
5. 扣除科技點
6. 建築物出現在地圖上

#### 建築管理
- **查看建築**：點擊已放置的建築可查看詳情
- **刪除建築**：可刪除已放置的建築（回收部分科技點）
- **建築資訊**：顯示建築類型、防禦值、連線狀態

### 3.5 連線系統

#### 連線規則
建築物之間可建立連線，需遵循以下規則：

1. **路由器連線規則**
   - 路由器可連接路由器
   - 路由器可連接主機
   - 路由器可連接交換器

2. **交換器連線規則**
   - 交換器可連接交換器
   - 交換器可連接主機
   - 交換器可連接路由器

3. **主機連線規則**
   - 主機只能連接路由器或交換器
   - 主機不能直接連接主機

#### 連線操作流程
1. 點擊已放置的建築物
2. 選擇「建立連線」
3. 選擇目標建築物
4. 系統驗證連線規則
5. 連線成功後，在地圖上顯示連線線條

#### 連線視覺效果
- 不同類型的連線使用不同顏色
- 連線可顯示/隱藏
- 連線有動畫效果

### 3.6 Public Internet Tower 系統

#### Public Internet Tower 等級
Public Internet Tower 等級根據玩家的總防禦值自動調整：

| 等級 | 所需防禦值 | 公網塔外觀 |
|------|-----------|---------|
| 0    | 0-149     | castle0.png |
| 1    | 150-299   | castle1.png |
| 2    | 300-449   | castle2.png |
| ...  | ...       | ... |
| 10   | 1500+     | castle10.png |

**計算公式**：`Public Internet Tower 等級 = floor(總防禦值 / 150)`

#### 公網塔升級機制
- **自動升級**：防禦值達到門檻時自動升級
- **升級提示**：顯示「Public Internet Tower 升級到等級 X！」
- **降級機制**：防禦值下降時也會自動降級
- **降級提示**：顯示「Public Internet Tower 降級到等級 X...」

#### 公網塔互動
- 玩家進入 Public Internet Tower 區域時，外觀會變化（顯示內部視圖）
- 公網塔區域無法放置建築物
- 區域大小：3x3 格

### 3.7 成就系統

#### 成就類型
成就系統追蹤以下類型的成就：

1. **答題成就**
   - 答對 X 題
   - 連續答對 X 題
   - 特定主題答對率

2. **建造成就**
   - 建造 X 個建築物
   - 建立 X 條連線
   - 開發 X 塊土地

3. **事件成就**
   - 成功處理 X 個資安事件
   - 處理特定類型事件

#### 成就狀態
- **locked**：未解鎖
- **unlocked**：已解鎖，等待領取
- **finish**：已完成並領取

#### 成就獎勵
- 科技點
- 防禦值
- 特殊道具

#### 成就頁面
- 透過 NPC 選單進入「成就」頁面
- 查看所有成就進度
- 領取已解鎖的成就獎勵

### 3.8 事件系統

#### 隨機事件觸發
- 解鎖土地時有機率觸發隨機事件
- 事件類型包含：
  - DDoS 攻擊
  - SQL 注入攻擊
  - XSS 攻擊
  - CSRF 攻擊
  - 暴力破解
  - 釣魚攻擊
  - 中間人攻擊
  - 勒索軟體
  - 權限提升
  - 會話劫持
  - DNS 欺騙
  - 供應鏈攻擊

#### 事件處理流程
1. **事件觸發**：隨機事件彈窗出現
2. **倒數計時**：通常為 30 秒倒數
3. **選擇防禦**：從背包選擇防禦工具
4. **判定結果**：
   - 正確：防禦成功
   - 錯誤：防禦失敗
   - 超時：視為失敗
5. **顯示結果**：卡片翻轉顯示結果
6. **現實案例**：顯示真實世界的相關案例

#### 事件失敗後果
- ❌ 科技點 -50
- ❌ 防禦值 -10
- ❌ 事件記錄到「資安事件紀錄」
- ❌ 需要後續處理（使用正確防禦工具）

#### 事件成功獎勵
- ✅ 無直接獎勵（避免懲罰即為獎勵）
- ✅ 防禦工具被消耗
- ✅ 學習到正確的防禦方式

### 3.9 背包系統

#### 防禦工具類型
背包中可存放以下防禦工具：

1. **WAF 應用程式防火牆**
   - 防禦：DDoS、SQL 注入
   - 防禦值：+X

2. **Prepared Statements（參數化查詢）**
   - 防禦：SQL 注入
   - 防禦值：+X

3. **Output Encoding（輸出編碼）**
   - 防禦：XSS
   - 防禦值：+X

4. **CSRF Token（隨機驗證碼）**
   - 防禦：CSRF
   - 防禦值：+X

5. **MFA（多因素驗證）**
   - 防禦：暴力破解、會話劫持
   - 防禦值：+X

6. **Security Awareness Training（資安意識訓練）**
   - 防禦：釣魚攻擊
   - 防禦值：+X

7. **TLS/HTTPS 加密**
   - 防禦：中間人攻擊、會話劫持
   - 防禦值：+X

8. **定期備份（3-2-1 備份原則）**
   - 防禦：勒索軟體
   - 防禦值：+X

9. **Least Privilege（最小權限原則）**
   - 防禦：權限提升
   - 防禦值：+X

10. **HttpOnly & Secure Cookie 屬性**
    - 防禦：XSS、會話劫持
    - 防禦值：+X

11. **DNSSEC**
    - 防禦：DNS 欺騙
    - 防禦值：+X

12. **Code Signing（軟體簽章驗證）**
    - 防禦：供應鏈攻擊
    - 防禦值：+X

#### 獲得防禦工具
- 答對題目時隨機獲得
- 完成成就獲得
- 商店購買（若有商店功能）

#### 使用防禦工具
- **處理事件**：在事件彈窗中使用
- **處理資安事件**：在「資安事件紀錄」中使用
- **直接使用**：增加防禦值（一般使用）

### 3.10 資安事件紀錄系統

#### 事件紀錄來源
1. **隨機事件失敗**：處理隨機事件失敗時自動記錄
2. **手動查看**：透過 NPC 選單「資安事件紀錄」查看

#### 事件狀態
- **未處理**：需要選擇防禦工具處理
- **已處理**：已成功處理

#### 處理流程
1. 查看「資安事件紀錄」
2. 選擇未處理的事件
3. 選擇要使用的防禦工具
4. 系統判定是否正確
5. 正確：事件標記為已處理
6. 錯誤：工具消耗但事件仍為未處理

#### 事件詳情
每筆事件包含：
- 事件名稱
- 發生時間
- 事件描述
- 建議工具
- 正確防禦工具列表

### 3.11 NPC 選單系統

NPC 位於遊戲畫面左下角，點擊可打開選單，包含以下功能：

#### 1. 背包（🎒）
- 查看所有擁有的防禦工具
- 查看工具數量與防禦值
- 使用或丟棄工具
- 查看工具詳細資訊

#### 2. 建築商店（🏪）
- 瀏覽可購買的建築
- 查看建築價格與屬性
- 購買建築並進入放置模式

#### 3. 資安事件紀錄（📜）
- 查看所有未處理的資安事件
- 選擇事件並處理
- 查看事件詳情與建議工具

#### 4. 答題紀錄（📝）
- 查看所有答題歷史
- 查看答對/答錯記錄
- 查看詳解與正確答案

#### 5. 成就（🏆）
- 查看所有成就進度
- 領取已解鎖的成就
- 查看成就獎勵

#### 6. 說明（❓）
- 遊戲規則說明
- 操作指南
- 系統介紹

---

## 四、遊戲流程範例

### 4.1 新手流程
1. **註冊/登入**：建立帳號並登入
2. **觀看故事**：載入畫面顯示遊戲背景故事
3. **進入遊戲**：出現在 Public Internet Tower 附近
4. **移動探索**：使用 WASD 移動
5. **解鎖土地**：
   - 移動到鎖定土地
   - 按 Enter 觸發題目
   - 答題解鎖
6. **購買建築**：
   - 點擊 NPC 打開選單
   - 進入建築商店
   - 購買第一個建築
   - 放置在已開發土地
7. **處理事件**：
   - 解鎖土地時觸發事件
   - 選擇防禦工具
   - 成功處理事件
8. **查看成就**：
   - 完成第一個成就
   - 領取獎勵

### 4.2 進階流程
1. **建立網路**：
   - 購買路由器與交換器
   - 連接多個主機
   - 建立完整網路架構
2. **處理多個事件**：
   - 收集各種防禦工具
   - 處理不同類型事件
   - 學習防禦知識
3. **升級 Public Internet Tower**：
   - 增加防禦值到 150 以上
   - 公網塔自動升級
   - 享受視覺回饋
4. **完成成就**：
   - 答對 10 題
   - 建造 5 個建築
   - 處理 3 個事件
   - 領取所有成就獎勵

---

## 五、技術架構

### 5.1 前端技術
- **框架**：Vue 3 + Vite
- **狀態管理**：Pinia
- **路由**：Vue Router
- **遊戲引擎**：PixiJS（等角地圖渲染）
- **認證**：Firebase Authentication
- **樣式**：Tailwind CSS

### 5.2 後端技術
- **框架**：Node.js + Express
- **資料庫**：Firebase Firestore
- **認證**：Firebase Admin SDK
- **檔案系統**：處理 Excel 題目匯入

### 5.3 資料結構
- **玩家資料**：科技點、防禦值、位置、答題記錄
- **地圖資料**：20x20 二維陣列，每個格子包含狀態與建築資訊
- **題目資料**：題目內容、選項、答案、詳解
- **建築資料**：建築類型、價格、防禦值
- **連線資料**：起點、終點、類型
- **成就資料**：成就條件、進度、狀態、獎勵
- **事件資料**：事件類型、描述、正確防禦工具

---

## 六、遊戲特色功能

### 6.1 音效系統
- **背景音樂（BGM）**：可控制播放/暫停
- **答題音效**：答對/答錯不同音效
- **成就音效**：獲得成就時播放
- **事件音效**：事件觸發時播放

### 6.2 視覺效果
- **Bingo 動畫**：答對題目時顯示
- **翻轉卡片**：題目與事件使用卡片翻轉效果
- **Public Internet Tower 動畫**：升級/降級時顯示提示
- **連線動畫**：建築物連線有視覺效果
- **載入動畫**：遊戲載入時顯示進度

### 6.3 操作提示
- **8 秒提示**：進入遊戲 8 秒後顯示操作提示
- **互動提示**：滑鼠懸停顯示資訊
- **錯誤提示**：操作錯誤時顯示訊息

### 6.4 資料同步
- **即時同步**：所有操作即時同步到 Firebase
- **離線支援**：部分功能支援離線（需後續開發）
- **資料備份**：Firebase 自動備份

---

## 七、學習目標

透過遊戲化學習，玩家可以：

1. **理解資安基礎**
   - 密碼學原理
   - 網路安全
   - Web 安全

2. **認識常見威脅**
   - OWASP TOP10
   - 各種攻擊類型
   - 真實世界案例

3. **學習防禦方法**
   - 正確的防禦工具選擇
   - 防禦策略
   - 最佳實踐

4. **建立網路概念**
   - 網路架構
   - 設備連線
   - 網路安全配置

---

## 八、未來發展方向

### 8.1 功能擴充
- [ ] 更多建築類型
- [ ] 更多題目類型
- [ ] 多人連線模式
- [ ] 排行榜系統
- [ ] 每日任務
- [ ] 季節活動

### 8.2 教育內容
- [ ] 更多資安主題
- [ ] 互動式教學
- [ ] 影片教學
- [ ] 測驗系統
- [ ] 證照模擬

### 8.3 遊戲性
- [ ] 劇情模式
- [ ] PvP 對戰
- [ ] 公會系統
- [ ] 交易系統
- [ ] 裝備系統

---

## 九、注意事項

### 9.1 遊戲限制
- 需要網路連線
- 需要登入帳號
- 部分功能需要特定條件

### 9.2 操作建議
- 建議使用鍵盤操作移動
- 建議先閱讀說明頁面
- 建議從簡單題目開始

### 9.3 學習建議
- 仔細閱讀詳解
- 記錄答錯的題目
- 查看真實案例
- 理解防禦原理

---

## 十、聯絡與支援

如有問題或建議，請聯絡開發團隊。

---

**最後更新：2024年**

**版本：1.0**





